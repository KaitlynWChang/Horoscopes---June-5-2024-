(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83405],{40799:function(t,e,r){"use strict";r.d(e,{P:function(){return u},c:function(){return l}});var n=r(62402),i=r(11006),a=r(23929),o=r(74222);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let l={minWidth:"18.75rem"},u=(0,i.Z)("div",{target:"e1spmc110"})((0,a.ZP)("breaker-ad-wrapper",s(s(s(s(s(s(s(s(s({},o.Cg),o.$_),o.jf),o.GQ),o.bK),o.o3),o.FK),o.cp),o.e6),{clear:"both",color:"black",textAlign:"center",position:t=>t.mobileStickyAds?{"<xs":"sticky",_:"static"}:"static",mt:"{m}",mb:"{m}","&.clearfix":{clear:"both"},"&:after":{content:'""',borderBottom:"border-thin-greyLight",m:{_:"{s} {mobileOuterGutter} 0",md:"{s} {tabletOuterGutter} 0",xxlg:"{s} 0 0"},display:"flex",position:t=>t.mobileStickyAds?{"<xs":"absolute",_:"static"}:"static",bottom:{"<xs":0},width:{"<xs":"-webkit-fill-available"}},variant:"ad-wrapper",m:"{m} 0",display:"flex",flexDirection:"column",justifyContent:t=>t.mobileStickyAds?{"<xs":"start",_:"space-between"}:"space-between"}),"")},83405:function(t,e,r){"use strict";r.d(e,{$B:function(){return $},CY:function(){return b},GO:function(){return d},M6:function(){return S},Ml:function(){return P},ad:function(){return f},k$:function(){return j},pU:function(){return m},pX:function(){return x},u9:function(){return g},xg:function(){return Z}});var n=r(62402),i=r(11006),a=r(23929),o=r(74222),c=r(40799),s=r(99346),l=r(79455);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let m="20.625rem",d="1rem",f=`calc(${m} * 2 - ${d})`,g="45.25rem",b="3.5rem",w=`calc(2 * ${d})`,h={_:0,md:b,smd:0,"xlg:xxxlg":0,"xxxlg>":0},v=`calc(calc((100vw - min(${f}, calc(100vw - ${d} * 2)))/-2))`,y=p(p(p(p({},o.bK),o.FK),o.jf),o.Dh),O={marginBottom:"s",position:"relative",bps:[{options:{size:"<md"},value:{maxWidth:`calc(100vw - (${d} * 2))`,marginLeft:d,marginRight:d,[c.P]:{width:"100vw",marginLeft:`calc(-1 * ${d})`}}},{options:{size:"md:smd"},value:{marginLeft:"auto",marginRight:"auto",[c.P]:{width:"100vw",marginLeft:`calc((100vw - (${f} - 2 * ${d})) / -2)`}}},{options:{size:"smd:xxlg"},value:{maxWidth:f,marginLeft:`calc((100vw - ${f} - ${d} - ${m}) / 2)`,paddingLeft:"1rem",paddingRight:"1rem",[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - ${f} - ${d} - ${m}) / -2) - ${d})`}}},{options:{size:"xxxlg>"},value:{marginLeft:`calc((100vw - ${f}) / 2)`,maxWidth:f,paddingLeft:"1rem",paddingRight:"1rem",[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - calc(${m} * 2 + ${d})) / -2) - ${w})`},"[data-has-sponsor] &":{minWidth:f}}}]};(0,i.Z)("div",{target:"et2g3wt7"})((0,a.ZP)("article-wrapper",p(p(p(p(p({},o.eC),o.bK),o.FK),o.jf),o.Dh),{marginBottom:"s",bps:[{options:{size:"<md"},value:{marginLeft:d,marginRight:d,[c.P]:{width:"100vw",marginLeft:`calc(-1 * ${d})`}}},{options:{size:"md:smd"},value:{maxWidth:`min(${f}, calc(100vw - (${d} * 3)))`,marginLeft:"auto",marginRight:"auto",[c.P]:{width:"100vw",marginLeft:`calc((100vw - (${f} - 2 * ${b})) / -2)`}}},{options:{size:"smd:xxlg"},value:{paddingLeft:"2rem",maxWidth:f,marginLeft:`calc((100vw - ${f} - ${d} - ${m}) / 2)`,[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - ${f} - ${d} - ${m}) / -2) - ${d})`}}},{options:{size:"xxxlg>"},value:{marginLeft:`calc((100vw - ${f}) / 2)`,marginRight:`calc((100vw - ${f}) / 2)`,maxWidth:f,[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - calc(${m} * 2 + ${d})) / -2) - ${w})`}}}]}),"");let P=(0,i.Z)("div",{target:"et2g3wt6"})((0,a.ZP)("article-body",p(p(p(p(p(p(p({},o.GQ),o.eC),o.bK),o.FK),o.Dh),o.cp),o.WD),{position:"relative",px:h,"&:after":{clear:"both",content:'" "',display:"block",fontSize:"0",height:0,visibility:"hidden"},bps:[{options:{size:"md:smd"},value:{maxWidth:g,marginLeft:"auto",marginRight:"auto"}}]}),""),x=(0,i.Z)("div",{target:"et2g3wt5"})((0,a.ZP)("article-lead",p(p(p(p(p(p({},o.GQ),o.eC),o.bK),o.o3),o.FK),o.Dh),{justifySelf:"center",position:"relative",bps:[{options:{size:"<sm"},value:{marginLeft:"-50vw",marginRight:"-50vw",width:"100vw",left:"50%",right:"50%"}}]}),"");(0,i.Z)("div",{target:"et2g3wt4"})((0,a.ZP)("journey-inline",p(p(p({},o.jf),o.eC),o.Dh),{mt:"1.25rem",px:h,"@media print":{display:"none"}}),""),(0,s.Z)(l.default,{__themeKey:"recipe-open-web-comments-wrapper",sx:{gridColumn:{_:"1",lg:"2/3"},padding:0}});let j=(0,i.Z)("div",{target:"et2g3wt3"})((0,a.ZP)("article-wrapper",p({},y),p({},O)),""),$=(0,i.Z)("div",{target:"et2g3wt2"})((0,a.ZP)("article-wrapper-longform",p({},y),{marginLeft:"auto",marginRight:"auto",marginBottom:"s",maxWidth:`min(${f}, calc(100vw - ${d} * 2))`,position:"relative",[c.P]:{width:"100vw",paddingLeft:{"xxxlg>":"0.1rem"},paddingRight:{"xxxlg>":"0.1rem"},marginLeft:{_:`calc((100vw - min(${f}, calc(100vw - ${d} * 2)))/-2)`,"md:smd":`calc(calc((100vw - min(${f}, calc(100vw - ${d} * 2)))/-2) - ${b})`,smd:v,"xxxlg>":v}}}),""),S=(0,i.Z)("div",{target:"et2g3wt1"})((0,a.ZP)("article-right-column-wrapper",p(p({},o.GQ),o.jf),{flexBasis:t=>t.isAutos?`${m}`:`calc((100vw - ${f} - ${d} - ${m}) / 2)`,flexGrow:0,flexShrink:0,display:{_:"block","<smd":"none"}}),""),Z=(0,i.Z)("div",{target:"et2g3wt0"})((0,a.ZP)("article-content-wrapper",p(p(p(p({},o.bK),o.FK),o.jf),o.Dh),{display:"flex"}),"")},79455:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return C}});var n=r(77893),i=r(62402),a=r(38295),o=r(17066),c=r(98456),s=r(63533),l=r(6541),u=r(71389),p=r(11230),m=r(37995);let d=new p.Z("OpenWebAuth"),f=async(t,e,r,n)=>{let{username:i,legacy_username:a,preferredUsername:o,email:c}=r;if(i&&o)try{let r=await (0,m.he)((0,u.b)("/auth/spotim-login/",{access_token:n,code_a:t,primary_key:a||i,user_name:o,display_name:o,email:c})),s=await r.text();e(s)}catch(t){d.warn("spotim login error ",t)}},g=async()=>{"undefined"!=typeof SPOTIM&&await SPOTIM?.logout(),["SPOTIM_CURRENT_USER","SPOTIM_ACCESS_TOKEN"].forEach(t=>localStorage.removeItem(t))},b=async(t,e)=>{if("undefined"==typeof SPOTIM)return;let{username:r,legacy_username:n,preferredUsername:i,email:a}=t||{};if(r&&i)try{if((await SPOTIM.startSSO((r,n)=>f(r,n,t,e))).displayName!==i)try{await g();let o=await (0,m.he)((0,u.b)("/auth/spotim-update",{primary_key:n||r,display_name:i,user_name:i,email:a}));200===o.status&&b(t,e)}catch(t){d.warn("spotim update error ",t)}}catch(t){d.warn("spotimStartSSO error reason: ",t)}else g()};var w=r(82062);let{RUNTIME_CIAM_AUTH_URLS:h}=r(59115).default;async function v(t,e){let{default:n}=await r.e(81801).then(r.t.bind(r,81801,23));return new n({clientId:t,redirectUri:(0,u.b)("/auth/login"),myloApiBaseUrl:h,myloUiBaseUrl:e,pkce:!1})}var y=r(26598),O=r(53739),P=r(8491),x=r.n(P),j=r(64343),$=r(4117);let S=()=>{let{0:t,1:e}=(0,o.useState)(!1),r=(0,j.Dv)($.th),n=(0,j.Dv)($.zg);return(0,o.useEffect)(()=>{(r<=3&&0!==r||n===r-4)&&e(!0)},[n]),t};var Z=r(91754),D=r(55987),_=r(17066);let L=["spotimConfig","withSeoEnabled","postId","postUrl"];function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach(function(e){(0,i.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function C(t){let{spotimConfig:e,withSeoEnabled:r,postId:i,postUrl:u}=t,p=(0,a.Z)(t,L),{0:m,1:d}=(0,o.useState)(""),{inView:f,ref:g,observer:h}=(0,y.Z)(),P=(0,o.useRef)(),j=(0,w.Vi)("ssr.spotImSeoComments.commentCount",0),$=(0,w.IK)("showSpotimDarkMode"),k=(0,w.IK)("withSocialReview"),C=(0,Z.useSetAuthorizedUser)();(0,O.Z)("<smd",P);let K=P.current?1:10,R=E(E({"data-messages-count":K,"data-post-id":i,"data-post-url":u,"data-theme":$?l.VH:l.sn},r&&{"data-seo-enabled":"true"}),k&&{"data-social-reviews":"true"}),{spotId:W,ssotoken:z}=e||{},U=`${l.S1}${W}`,{clientId:I,loginURL:M}=(0,w.Vi)("layoutContextProps.siteData.metadata.ciam")??{},T=(0,Z.useUserData)()||{},A=S();(0,o.useEffect)(()=>{b(T,z)},[T]),(0,o.useEffect)(()=>{U&&W&&"loaded"!==m&&f&&h.current.unobserve(g.current)},[f]);let G=async()=>{d("loaded"),document.addEventListener(l.Um,async()=>{let t=await v(I,M),{username:e,preferredUsername:r}=T||{},n={urlParams:{app_id:"spotim"}};e?r||t.viewPopup("username",n):t.viewPopup("signup",n)}),window.addEventListener("mylo-auth-complete",async()=>{C(!0)}),"undefined"!=typeof SPOTIM&&SPOTIM&&SPOTIM?.startSSO?b(T,z):document.addEventListener(l.iU,()=>{b(T,z)},{once:!0})};return(0,D.tZ)(c.oM,(0,n.Z)({commentCount:j>K?K:j,ref:g},p),f||A?(0,D.tZ)(_.Fragment,null,(0,D.tZ)(x(),{"data-spotim-module":"spotim-launcher",src:U,onLoad:G,onError:()=>d("error")}),(0,D.tZ)(c.$j,(0,n.Z)({"data-spotim-module":"conversation"},R),(0,D.tZ)(s.Z,{embedName:"OpenWeb"}))):null)}C.defaultProps={withSeoEnabled:!1,withSocialReview:!1}},4117:function(t,e,r){"use strict";r.d(e,{VW:function(){return i},th:function(){return a},zg:function(){return o}});var n=r(11356);let i=(0,n.cn)(""),a=(0,n.cn)(0),o=(0,n.cn)(0)},98456:function(t,e,r){"use strict";r.d(e,{$j:function(){return m},l9:function(){return d},oM:function(){return p}});var n=r(62402),i=r(11006),a=r(23929),o=r(74222);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let l="{*borderWidths.thin} solid {*colors.greyLight}",u=[{max:3,value:"21.8rem"},{max:5,value:"34.9rem"},{max:10,value:"48rem"}],p=(0,i.Z)("div",{target:"e1nbp5fe2"})((0,a.ZP)("open-web-comments-wrapper",s(s(s(s(s(s(s(s(s(s({},o.GQ),o.Oq),o.Cg),o.$_),o.jf),o.eC),o.bK),o.e6),o.Dh),o.cp),{borderBottom:l,borderTop:l,display:"block",gridArea:"article_body",gridColumn:"article_body-start / article_body-end",gridRow:"auto",justifySelf:"center",maxWidth:{lg:40.25},minHeight:({commentCount:t})=>t?u?.find?.(({max:e})=>t<e)?.value||"80.5rem":{"<smd":"28rem"},margin:{_:"1.25rem 0 0"},width:{"<xxs":"100%",xs:"488px","sm>":"612px"},"@media print":{display:"none"}}),""),m=(0,i.Z)("div",{target:"e1nbp5fe1"})((0,a.ZP)("open-web-comments-content",s(s({},o.Dh),o.cp),{display:"block",padding:{_:".9375rem 0"},textAlign:"center"}),""),d=(0,i.Z)("div",{target:"e1nbp5fe0"})((0,a.ZP)(null,o.FK,{position:"relative"}),"")},6541:function(t,e){e.S1="https://launcher.spot.im/spot/",e.iU="spot-im-api-ready",e.Um="spot-im-login-start",e.VH="dark",e.sn="light"},63533:function(t,e,r){"use strict";var n=r(62402),i=r(11006),a=r(23929),o=r(74222),c=r(87774),s=r(55987);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let p=(0,i.Z)("div",{target:"eu2bcrz0"})((0,a.ZP)("screen-reader-only",u(u(u({},o.jf),o.FK),o.bK),{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}),"");e.Z=function({embedName:t}){let e=(0,c.$G)({key:"content.embedAccessibilityText",macros:{embedName:t||"Third Party"}});return(0,s.tZ)(p,{"data-ad-exclude":!0},e)}},71389:function(t,e,r){"use strict";r.d(e,{b:function(){return n}}),r(11186);let n=(t,e={},r={})=>{let n;r?.baseDomain!==!1&&(n=r?.baseDomain?r.baseDomain:window.location.origin);let i=new URL(t,n);return Object.entries(e).forEach(([t,e])=>i.searchParams.append(t,e)),i.toString()}}}]);